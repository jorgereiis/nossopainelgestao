{% load static %}
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="{{ csrf_token }}">
    <title>{% block title %}JampaBet{% endblock %} - Palpites do Bahia</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23DC2626' d='M417.3 360.1l-71.6-4.8c-5.2-.3-10.3 1.1-14.5 4.2s-7.2 7.4-8.4 12.5l-17.6 69.6C289.5 445.8 273 448 256 448s-33.5-2.2-49.2-6.4l-17.6-69.6c-1.2-5.1-4.2-9.5-8.4-12.5s-9.3-4.5-14.5-4.2l-71.6 4.8c-17.6-27.2-28.5-59.2-30.4-93.6l57.8-43.4c4.1-3.1 6.9-7.5 7.9-12.4s.3-10.1-2.1-14.7l-32.4-61.5C105 112.1 120.6 97.2 138.7 85l63.6 30c4.4 2.1 9.4 2.6 14.1 1.4s8.9-4 11.8-7.8l38.3-51.2c29.6-2.7 59.5-2.7 89 0L394 108.6c2.9 3.8 6.8 6.6 11.5 7.8s9.6.6 14.1-1.4l63.6-30c18.1 12.2 33.7 27.1 46.2 44.3l-32.4 61.5c-2.4 4.6-3.1 9.8-2.1 14.7s3.8 9.3 7.9 12.4l57.8 43.4c-1.9 34.4-12.8 66.4-30.4 93.6z'/%3E%3C/svg%3E">
    <link rel="stylesheet" href="{% static 'jampabet/css/style.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    {% block extra_css %}{% endblock %}
</head>
<body>
    {% block splash %}
    <!-- Splash Screen - aparece em todo refresh -->
    <div id="splash-screen" class="splash-screen">
        <div class="splash-content">
            <div class="logo-container">
                <div class="logo-icon">
                    <i class="fas fa-futbol"></i>
                </div>
                <h1 class="logo-text">JAMPA<span>BET</span></h1>
            </div>
            <div class="loading-bar">
                <div class="loading-progress"></div>
            </div>
            <p class="splash-tagline">Bora Bahea Minha Porra!</p>
        </div>
    </div>
    {% endblock %}

    <div id="app" class="app {% block app_class %}hidden{% endblock %}">
        {% block header %}
        <header class="header">
            <div class="header-content">
                <a href="{% url 'jampabet:home' %}" class="logo">
                    <i class="fas fa-futbol logo-ball"></i>
                    <span class="logo-name">JAMPA<span class="highlight">BET</span></span>
                </a>
                {% if request.jampabet_user %}
                <button type="button" class="user-info" id="open-user-menu">
                    <div class="user-avatar">
                        <span>{{ request.jampabet_user.name|slice:":1"|upper }}</span>
                    </div>
                    <div class="user-details">
                        <span class="user-name">{{ request.jampabet_user.name }}</span>
                        <span class="user-points">{{ request.jampabet_user.points }} pts</span>
                    </div>
                </button>
                {% else %}
                <a href="{% url 'jampabet:login' %}" class="user-info">
                    <div class="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="user-details">
                        <span class="user-name">Entrar</span>
                    </div>
                </a>
                {% endif %}
            </div>
        </header>
        {% endblock %}

        <main class="main-content">
            {% block content %}{% endblock %}
        </main>

        {% block footer %}
        <footer class="footer">
            <div class="footer-content">
                <p>JAMPA<span class="highlight">BET</span> &copy; 2025 - Apostas entre amigos</p>
                <p class="footer-disclaimer">Esporte Clube Bahia - Apenas para diversao. Sem apostas reais.</p>
            </div>
        </footer>
        {% endblock %}

        {% block bottom_nav %}
        <nav class="bottom-nav">
            <button class="bottom-nav-btn {% if active_tab == 'palpites' %}active{% endif %}" data-tab="palpites">
                <i class="fas fa-ticket-alt"></i>
                <span>Palpites</span>
            </button>
            <button class="bottom-nav-btn {% if active_tab == 'ranking' %}active{% endif %}" data-tab="ranking">
                <i class="fas fa-medal"></i>
                <span>Ranking</span>
            </button>
            <button class="bottom-nav-btn {% if active_tab == 'classificacao' %}active{% endif %}" data-tab="classificacao">
                <i class="fas fa-table"></i>
                <span>Tabela</span>
            </button>
        </nav>
        {% endblock %}
    </div>

    {% block modals %}{% endblock %}

    <!-- Script de Splash Screen -->
    <script>
    (function() {
        'use strict';
        const SPLASH_DURATION = 2000; // 2 segundos
        const splashScreen = document.getElementById('splash-screen');
        const app = document.getElementById('app');

        if (splashScreen && app) {
            setTimeout(function() {
                splashScreen.classList.add('fade-out');
                app.classList.remove('hidden');
            }, SPLASH_DURATION);
        }
    })();
    </script>

    <script src="{% static 'jampabet/js/app.js' %}"></script>
    {% block extra_js %}{% endblock %}
</body>
</html>
