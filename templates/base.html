{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    {% include 'partials/head.html' %}
    <title>{% block title %}Nosso Painel - Gestão Simplificada{% endblock %}</title>
    {% block extra_css %}{% endblock %}
</head>
<body class="{% block body_class %}bg-light{% endblock %}">
    {% if is_impersonating %}
    <!-- Banner de Impersonation -->
    <div class="alert alert-warning mb-0 rounded-0 text-center py-2" role="alert" style="position: sticky; top: 0; z-index: 9999;">
        <i class="bi bi-person-badge me-2"></i>
        <strong>Modo Administrador:</strong> Você está logado como
        <strong>{{ user.username }}</strong>
        <a href="{% url 'impersonate-encerrar' %}" class="btn btn-sm btn-warning ms-3">
            <i class="bi bi-box-arrow-left me-1"></i>Voltar ao Admin
        </a>
    </div>
    {% endif %}
    <div id="db-wrapper">
        {% block navbar %}
            {% include 'partials/navbar-vertical.html' %}
        {% endblock %}
        <div id="page-content">
            {% block header %}
                {% include 'partials/header.html' %}
            {% endblock %}
            {% block messages %}{% endblock %}

            <!-- Modais globais disponíveis em todo o sistema -->
            {% include 'partials/modais_globais.html' %}

            <!-- Offcanvas de Configurações disponível em todo o sistema -->
            {% include 'partials/offcanvas_configuracoes.html' %}

            {% block modals %}{% endblock %}
            {% block content %}{% endblock %}
            {% block footer %}
                {% include 'partials/footer.html' %}
            {% endblock %}
        </div>
    </div>
    {% include 'partials/scripts.html' %}
    {% block extra_js %}{% endblock %}
</body>
</html>
